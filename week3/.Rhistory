source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_notes_MC_simulation.R', echo=TRUE)
getwd
getwd()
setwd("/Users/Amine/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/")
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_notes_MC_simulation.R', echo=TRUE)
?rnorm
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_notes_MC_simulation.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_notes_MC_simulation.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
ttests
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
1 - pt(2,df=4)
1/101
1- 1/101
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
ps
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
qs
ps
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
c(-4.5,+4.5)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
?t.test
X <- rnorm(n = 5)
Y <- rnorm(n = 5)
ttest <- t.test(X,Y,var.equal = TRUE)
ttest
ttest$statistic
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
X <- rnorm(n = N)
Y <- rnorm(n = N)
tstat <- t.test(X,Y,var.equal = TRUE)$statistic
X <- rnorm(n = N)
Y <- rnorm(n = N)
t.test(X,Y,var.equal = TRUE)$statistic
X <- rnorm(n = N)
Y <- rnorm(n = N)
t.test(X,Y,var.equal = TRUE)$stat
?t.test
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
ttest
?t.test
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
range(tstats)
tstats
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
range(tstats)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
range(tstats)
set.seed(1)
N <- 15
B <- 10000
tstats <- replicate(B,{
X <- sample(c(-1,1), N, replace=TRUE)
sqrt(N)*mean(X)/sd(X)
})
ps=seq(1/(B+1), 1-1/(B+1), len=B)
qqplot(qt(ps,N-1), tstats, xlim=range(tstats))
abline(0,1)
X <- sample(c(-1,1), 1000, replace=TRUE)
Y <- sample(c(-1,1), 1000, replace=TRUE)
ttest <- t.test(X,Y)
ttest$parameter
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
?qqnorm
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
sd(ts)
N
1/sqrt(55)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
set.seed(sample.kind = "Rounding", seed = 1)Ns <- seq(5,45,5)
library(rafalib)
mypar(3,3)
for(N in Ns){
medians <- replicate(10000, median ( rnorm(N) ) )
title <- paste("N=",N,", avg=",round( mean(medians), 2) , ", sd*sqrt(N)=", round( sd(medians)*sqrt(N),2) )
qqnorm(medians, main = title )
qqline(medians)
}
set.seed(sample.kind = "Rounding", seed = 1)
Ns <- seq(5,45,5)
library(rafalib)
mypar(3,3)
for(N in Ns){
medians <- replicate(10000, median ( rnorm(N) ) )
title <- paste("N=",N,", avg=",round( mean(medians), 2) , ", sd*sqrt(N)=", round( sd(medians)*sqrt(N),2) )
qqnorm(medians, main = title )
qqline(medians)
}
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_monte_carlo.R', echo=TRUE)
ls
getwd()
)
dat=read.csv("femaleMiceWeights.csv")
dat=read.csv("femaleMiceWeights.csv")
library(dplyr)
library(dplyr)
control <- filter(dat,Diet=="chow") %>% select(Bodyweight) %>% unlist
treatment <- filter(dat,Diet=="hf") %>% select(Bodyweight) %>% unlist
obsdiff <- mean(treatment)-mean(control)
N <- length(control)
N <- 12
c(control)
?sample
?sample
all <- sample(c(control,treatment))
all
all == c(control,treatment)
all == c(control,treatment)
all <- sample(c(control,treatment))
all == c(control,treatment)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_permutations.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_permutations.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_permutations.R', echo=TRUE)
avg_diffs
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_permutations.R', echo=TRUE)
dat <- c(smokers,nonsmokers)
shuffle <- sample( dat )
smokersstar <- shuffle[1:N]
nonsmokersstar <- shuffle[(N+1):(2*N)]
mean(smokersstar)-mean(nonsmokersstar)
dat <- c(smokers,nonsmokers)
shuffle <- sample( dat )
smokersstar <- shuffle[1:N]
nonsmokersstar <- shuffle[(N+1):(2*N)]
mean(smokersstar)-mean(nonsmokersstar)
dat <- c(smokers,nonsmokers)
shuffle <- sample( dat )
smokersstar <- shuffle[1:N]
nonsmokersstar <- shuffle[(N+1):(2*N)]
mean(smokersstar)-mean(nonsmokersstar)
dat <- c(smokers,nonsmokers)
shuffle <- sample( dat )
smokersstar <- shuffle[1:N]
nonsmokersstar <- shuffle[(N+1):(2*N)]
mean(smokersstar)-mean(nonsmokersstar)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_permutations.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_permutations.R', echo=TRUE)
vals <- replicate(1000,{dat <- c(smokers,nonsmokers)
shuffle <- sample( dat )
smokersstar <- shuffle[1:N]
nonsmokersstar <- shuffle[(N+1):(2*N)]
mean(smokersstar)-mean(nonsmokersstar)})
vals
N <- 10
set.seed(seed = 1, sample.kind = "Rounding")
nonsmokers <- sample(bwt.nonsmoke , N)
smokers <- sample(bwt.smoke , N)
obs_diff <- mean(smokers) - mean(nonsmokers)
obs_diff
(sum(abs(vals) > abs(obs)) + 1) / (length(vals) + 1)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_permutations.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_permutations.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_permutations.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_permutations.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_permutations.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_permutations.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_permutations.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_permutations.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_permutations.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_permutations.R', echo=TRUE)
shuffle <- sample( dat )
smokersstar <- shuffle[1:N]
nonsmokersstar <- shuffle[(N+1):(2*N)]
mean(smokersstar)-mean(nonsmokersstar)
shuffle <- sample(dat)
nonsmoker_star <- shuffle[ 1 : N ]
smoker_star <- shuffle[ (N+1) : (2*N) ]
#2 calculate average difference
mean(smoker_star) - mean(nonsmoker_star)
set.seed(1,sample.kind = "Rounding")
shuffle <- sample(dat)
nonsmoker_star <- shuffle[ 1 : N ]
smoker_star <- shuffle[ (N+1) : (2*N) ]
#2 calculate average difference
avg_diff <-  mean(smoker_star) - mean(nonsmoker_star)
avg_diff
set.seed(1,sample.kind = "Rounding")
shuffle <- sample( dat )
smokersstar <- shuffle[1:N]
nonsmokersstar <- shuffle[(N+1):(2*N)]
mean(smokersstar)-mean(nonsmokersstar)
set.seed(1,sample.kind = "Rounding")
shuffle <- sample( dat )
smokersstar <- shuffle[1:N]
nonsmokersstar <- shuffle[(N+1):(2*N)]
mean(smokersstar)-mean(nonsmokersstar)
set.seed(1,sample.kind = "Rounding")
shuffle <- sample(dat)
smoker_star <- shuffle[ 1 : N ]
nonsmoker_star <- shuffle[ (N+1) : (2*N) ]
#2 calculate average difference
mean(smoker_star) - mean(nonsmoker_star)
set.seed(1,sample.kind = "Rounding")
shuffle <- sample( dat )
smokersstar <- shuffle[1:N]
nonsmokersstar <- shuffle[(N+1):(2*N)]
mean(smokersstar)-mean(nonsmokersstar)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_permutations.R', echo=TRUE)
null <- replicate(1000, {
shuffle <- sample( dat )
smokersstar <- shuffle[1:N]
nonsmokersstar <- shuffle[(N+1):(2*N)]
mean(smokersstar)-mean(nonsmokersstar)
})
( sum( abs(null) >= abs(obs)) +1 ) / ( length(null)+1 )
nonsmokers <- sample(bwt.nonsmoke , N)
smokers <- sample(bwt.smoke , N)
obs <- mean(smokers) - mean(nonsmokers)
null <- replicate(1000, {
shuffle <- sample( dat )
smokersstar <- shuffle[1:N]
nonsmokersstar <- shuffle[(N+1):(2*N)]
mean(smokersstar)-mean(nonsmokersstar)
})
( sum( abs(null) >= abs(obs)) +1 ) / ( length(null)+1 )
set.seed(1,sample.kind = "Rounding")
nonsmokers <- sample(bwt.nonsmoke , N)
smokers <- sample(bwt.smoke , N)
obs <- mean(smokers) - mean(nonsmokers)
set.seed(1,sample.kind = "Rounding")
dat <- c(smokers,nonsmokers)
shuffle <- sample( dat )
smokersstar <- shuffle[1:N]
nonsmokersstar <- shuffle[(N+1):(2*N)]
mean(smokersstar)-mean(nonsmokersstar)
set.seed(1,sample.kind = "Rounding")
null <- replicate(1000, {
shuffle <- sample( dat )
smokersstar <- shuffle[1:N]
nonsmokersstar <- shuffle[(N+1):(2*N)]
mean(smokersstar)-mean(nonsmokersstar)
})
( sum( abs(null) >= abs(obs)) +1 ) / ( length(null)+1 )
##we add the 1s to avoid p-values=0 but we also accept:
( sum( abs(null) >= abs(obs)) ) / ( length(null) )
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_permutations.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_permutations.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_permutations.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_permutations.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_permutations.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_permutations.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_permutations.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_permutations.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_permutations.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_permutations.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_permutations.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_permutations.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_permutations.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_permutations.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_permutations.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_permutations.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_permutations.R', echo=TRUE)
source('~/Desktop/ml_books_tutorials/ML_classes/Statistics_harvard/week3/week3_exercise_permutations.R', echo=TRUE)
